<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>BatteryTech Lua Engine: Application Entry Points</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="batterytech_logo_tm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">BatteryTech Lua Engine
   &#160;<span id="projectnumber">2.0 beta</span>
   </div>
   <div id="projectbrief">Cross-Platform Game Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Application Entry Points</div>  </div>
</div><!--header-->
<div class="contents">

<p>How your application comes to life.  
<a href="#details">More...</a></p>
<p>A state-driven application such as a game generally has 2 phases: Updating (calculating positions, object states, processing, triggering, etc) and Rendering to screen.</p>
<p>Almost every game or high-performance application can be efficiently driven off of this paradigm, so BatteryTech requires that the following classes are extended:</p>
<p>BTApplicationUpdater which is used to update the application state<br/>
 BTApplicationRenderer which is used to render the application with OpenGL ES<br/>
 BT gains access to your implementations of these two classes via an extended context which a BT app must provide via a global implementation of the following:<br/>
 <a class="el" href="_game_8cpp.html#aaa1be1e8f4ffbb6bf1ba078a7dc00f0f">btAppCreateContext</a></p>
<p>Here is a basic example: </p>
<div class="fragment"><div class="line">  <span class="comment">// AppContext.h</span></div>
<div class="line"> <span class="keyword">class </span>AppContext : <span class="keyword">public</span> Context {</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">     AppContext(GraphicsConfiguration *gConfig);</div>
<div class="line">     <span class="keyword">virtual</span> ~AppContext();</div>
<div class="line">     HelloWorldApp *app;</div>
<div class="line"> };</div>
<div class="line">  <span class="comment">//</span></div>
<div class="line">  <span class="comment">// AppContext.cpp</span></div>
<div class="line"> AppContext::AppContext(GraphicsConfiguration *gConfig) : Context(gConfig) {</div>
<div class="line">     app = <span class="keyword">new</span> HelloWorldApp(<span class="keyword">this</span>);</div>
<div class="line">     appUpdater = app;</div>
<div class="line">     appRenderer = app;</div>
<div class="line"> }</div>
<div class="line"> <span class="comment">//</span></div>
<div class="line"> AppContext::~AppContext() {</div>
<div class="line">     <span class="keyword">delete</span> app;</div>
<div class="line">     app = NULL;</div>
<div class="line"> }</div>
<div class="line"> <span class="comment">//</span></div>
<div class="line">  <span class="comment">// App.h</span></div>
<div class="line"> <span class="keyword">class </span>App : <span class="keyword">public</span> BTApplicationUpdater, <span class="keyword">public</span> BTApplicationRenderer {</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">     HelloWorldApp(AppContext *context);</div>
<div class="line">     <span class="keyword">virtual</span> ~HelloWorldApp();</div>
<div class="line">     <span class="keyword">virtual</span> <span class="keywordtype">void</span> update();</div>
<div class="line">     <span class="keyword">virtual</span> <span class="keywordtype">void</span> render();</div>
<div class="line"> }</div>
<div class="line"> <span class="comment">//</span></div>
<div class="line">  <span class="comment">// App.cpp</span></div>
<div class="line"> Context* <a class="code" href="_game_8cpp.html#aaa1be1e8f4ffbb6bf1ba078a7dc00f0f">btAppCreateContext</a>(GraphicsConfiguration *graphicsConfig) {</div>
<div class="line">     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_game_context.html">GameContext</a>(graphicsConfig);</div>
<div class="line"> }</div>
</div><!-- fragment --><p>So you can have a single class extend both BTApplicationUpdater and BTApplicationRenderer, or you also have the option of having different classes extend each of those classes respectively. However you want to set up your entry, you have complete control of that by extending Context with your application's context. </p>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 1 2012 16:42:19 for BatteryTech Lua Engine by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1
</small></address>
</body>
</html>
