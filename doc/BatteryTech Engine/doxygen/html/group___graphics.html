<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>BatteryTech Engine: Graphics and Rendering</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="batterytech_logo_tm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">BatteryTech Engine
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">Cross-Platform Game Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">Graphics and Rendering</div>  </div>
</div><!--header-->
<div class="contents">

<p>How The BatteryTech Engine composites 2D, 3D and Font-based graphics.  
<a href="#details">More...</a></p>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>How The BatteryTech Engine composites 2D, 3D and Font-based graphics. </p>
<p>The BatteryTech Engine's rendering system utilizes a "deferred render item" list to maintain the scene. The design involves a list of universally reusable items which may be things like the following examples:</p>
<ul>
<li>Render "Texture1.png" at 300,300 of size 55x55 rotated 10 degrees</li>
<li>Render Text "This is a test" at 250,400 using font tag "neu20"</li>
<li>Render 3D Model "MyModel.dae" at 12,5,0 scale 20x20x20 with rotation matrix</li>
<li>etc...</li>
</ul>
<p>Every drawable frame, the rendering system will call the Game::render() function which is the entry point to set up the entire list of render items. The list does not persist from one frame to the next, it must be entirely reset. This has several implications. First, it means that switching what is drawn when is a very lightweight operation with virtually no cost. It also means that all transforms and other information about where to render must be managed on the Lua side by the developer.</p>
<p>Performance implications: This system has be proven to be efficient for most purposes, however it does make very heavy use of string hashes to resolve the resource keys, so there is some (but not ultimate) benefit to keeping paths and filenames short.</p>
<p>Each render call returns a render item index. This index can be used to further configure the render item beyond what is available by the initial render call. Example:</p>
<div class="fragment"><div class="line"> -- Renders just a quarter of the minimap atlas texture to mmx, mmy</div>
<div class="line"> renderIdx = game:render2D(<span class="stringliteral">&quot;textures/minimap_atlas.png&quot;</span>, mmx,mmy, w,h)</div>
<div class="line"> game:setRenderItemParam(renderIdx, &quot;uvs&quot;, 0.0, 0.5, 0.5, 1.0)</div>
</div><!-- fragment --><p>There are a number of global render settings to control lights, shadows, fog and camera in the <a class="el" href="group___graphics3_d.html">3D Graphics and Models</a> section</p>
<p>Here is a basic illustration of the flow of render item calls to the processing and rendering of the items: </p>
<div class="image">
<img src="RenderSystem.png" alt="RenderSystem.png"/>
</div>
 <table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group___graphics2_d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___graphics2_d.html">2D Graphics and Textures</a></td></tr>
<tr class="memdesc:group___graphics2_d"><td class="mdescLeft">&#160;</td><td class="mdescRight">How to render 2D Graphics and work with Textures. <br/></td></tr>
<tr class="memitem:group___graphics3_d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___graphics3_d.html">3D Graphics and Models</a></td></tr>
<tr class="memdesc:group___graphics3_d"><td class="mdescLeft">&#160;</td><td class="mdescRight">How to render 3D GraphicsThis engine supports the following general 3D rendering features: <br/></td></tr>
<tr class="memitem:group___fonts"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___fonts.html">Fonts and Text Rendering</a></td></tr>
<tr class="memdesc:group___fonts"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rendering 2D Fonts. <br/></td></tr>
<tr class="memitem:group___render_options"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___render_options.html">Render Options</a></td></tr>
<tr class="memdesc:group___render_options"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setting options for render items. <br/></td></tr>
<tr class="memitem:group___particles"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___particles.html">Particle Systems</a></td></tr>
<tr class="memdesc:group___particles"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuring 2D and 3D particle systems. <br/></td></tr>
</table>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 30 2012 19:22:22 for BatteryTech Engine by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1
</small></address>
</body>
</html>
