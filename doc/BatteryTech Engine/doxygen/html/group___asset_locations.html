<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>BatteryTech Engine: Asset Locations</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="batterytech_logo_tm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">BatteryTech Engine
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">Cross-Platform Game Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Asset Locations</div>  </div>
<div class="ingroups"><a class="el" href="group___loading_resources.html">Loading Resources</a></div></div><!--header-->
<div class="contents">

<p>Where assets (graphics, sounds, resource files) can be located and system features involving them.  
<a href="#details">More...</a></p>
<p>Where assets (graphics, sounds, resource files) can be located and system features involving them. </p>
<p>The default location for file assets to exist is the assets folder in your project. For most platforms, these assets will be packed into an internal, read-only filesystem where you as the developer will not normally have direct file read access but have to go through a platform-specific access mechanism. BatteryTech deals with this for each platform, providing a seamless way to access your resources.</p>
<p>Beyond internal assets, BatteryTech also provides several mechanisms for reading assets from external locations as well as overriding assets without changing code.</p>
<p>In the batterytech_config.txt file (see <a class="el" href="group___configuring.html">Configuring the Engine</a>), you can specify a system-wide access option for files. This is the first option assessed when an asset read function is called.</p>
<div class="fragment"><div class="line"><span class="preprocessor"> # asset_default_find_func controls where to look for assets.</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"> # &quot;internal&quot; is default, &quot;external&quot; only looks in external storage and &quot;auto&quot; looks in external first, internal second</span></div>
<div class="line"><span class="preprocessor"> asset_default_find_func=internal</span></div>
</div><!-- fragment --><p>So where is external storage? In the same batterytech_config.txt file, there is a definition: </p>
<div class="fragment"><div class="line"><span class="preprocessor"> # The directory name (public) that files will be written to</span></div>
<div class="line"><span class="preprocessor"> storage_dir=BatteryTech Lua Engine</span></div>
</div><!-- fragment --><p>This translates to different locations for different platforms.</p>
<ul>
<li>Windows = &lt;User Home&gt;\Documents\&lt;storage_dir&gt;</li>
<li>OSX = &lt;User Home&gt;/Documents/&lt;storage_dir&gt;</li>
<li>iOS = &lt;App Sandbox&gt;/Documents</li>
<li>Android = &lt;SDCard&gt;/&lt;storage_dir&gt;</li>
</ul>
<p>So for example, if you were to set asset_default_find_func to "external" in batterytech_config.txt, and you were running in Windows, the following would be true:<br/>
 addTexture("myTexture.png") = &lt;User Home&gt;\Documents\&lt;storage_dir&gt;\assets\myTexture.png<br/>
 But if you set asset_default_find_func to "auto" then that path would be examined first. If no file is found there, then an attempt to load the internal asset is made. This allows for selective overriding of files, either via download mechanism, user data, or other.</p>
<p>Beyond the global setting, asset search locations can be specified on a per-asset bases by prepending the following strings to an asset:</p>
<ul>
<li>file: Absolute file location (not necessarily in external storage)</li>
<li>auto: Automatic selection (first checking external storage then checking internal)</li>
</ul>
<p>Example: </p>
<div class="fragment"><div class="line"> -- <span class="keywordflow">default</span> <span class="keyword">internal</span> read</div>
<div class="line"> <a class="code" href="group___graphics2_d.html#gae17317142d8393f735230f1b2bed19e4" title="Adds a texture file to the resource manager.">addTexture</a>(<span class="stringliteral">&quot;myTexture.png&quot;</span>)</div>
<div class="line"> -- automatic <span class="keyword">override</span> file read</div>
<div class="line"> <a class="code" href="group___graphics2_d.html#gae17317142d8393f735230f1b2bed19e4" title="Adds a texture file to the resource manager.">addTexture</a>(<span class="stringliteral">&quot;auto:overrideableTexture.png&quot;</span>)</div>
<div class="line"> local extStorage = <a class="code" href="group___file_i_o.html#ga3aaa7ed71e07d7739c6dc99fd2eda0da" title="Returns the directory path name of a place suitable to store files exposed in some form to the user...">getExternalStorageDirectoryName</a>()</div>
<div class="line"> -- absolute path read</div>
<div class="line"> <a class="code" href="group___graphics2_d.html#gae17317142d8393f735230f1b2bed19e4" title="Adds a texture file to the resource manager.">addTexture</a>(&quot;file:&quot;..extStorage..&quot;/externalTexture.png&quot;)</div>
</div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 30 2012 19:22:22 for BatteryTech Engine by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1
</small></address>
</body>
</html>
