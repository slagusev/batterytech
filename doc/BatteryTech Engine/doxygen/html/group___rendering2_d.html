<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>BatteryTech Lua Engine: 2D</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="batterytech_logo_tm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">BatteryTech Lua Engine
   &#160;<span id="projectnumber">2.0 beta</span>
   </div>
   <div id="projectbrief">Cross-Platform Game Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">2D</div>  </div>
<div class="ingroups"><a class="el" href="group___rendering.html">Rendering</a></div></div><!--header-->
<div class="contents">

<p>How to render 2D Graphics.  
<a href="#details">More...</a></p>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga161f6e5d4d9c4d6376ea793473da00f0"><td class="memItemLeft" align="right" valign="top">renderItemId&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___rendering2_d.html#ga161f6e5d4d9c4d6376ea793473da00f0">Game::render2D</a> (string assetName, float x, float y, float width, float height, float rotation, float alpha)</td></tr>
<tr class="memdesc:ga161f6e5d4d9c4d6376ea793473da00f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renders a 2D image.  <a href="#ga161f6e5d4d9c4d6376ea793473da00f0"></a><br/></td></tr>
<tr class="memitem:ga6b2d55ac78f84007e16f9867e802bf49"><td class="memItemLeft" align="right" valign="top">renderItemId&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___rendering2_d.html#ga6b2d55ac78f84007e16f9867e802bf49">Game::start2DProjection</a> (float left, float right, float bottom, float top, float near, float far)</td></tr>
<tr class="memdesc:ga6b2d55ac78f84007e16f9867e802bf49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts an alternate 2D Projection (Orthographic)  <a href="#ga6b2d55ac78f84007e16f9867e802bf49"></a><br/></td></tr>
<tr class="memitem:gaad591f8345b3995f8200f067f4c41cce"><td class="memItemLeft" align="right" valign="top">renderItemId&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___rendering2_d.html#gaad591f8345b3995f8200f067f4c41cce">Game::end2DProjection</a> ()</td></tr>
<tr class="memdesc:gaad591f8345b3995f8200f067f4c41cce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends any alternate 2D Projection, restores default.  <a href="#gaad591f8345b3995f8200f067f4c41cce"></a><br/></td></tr>
<tr class="memitem:ga3949a0436526c8910cdd92b4a8409032"><td class="memItemLeft" align="right" valign="top">origWidth__origHeight__trimmedWidth__trimmedHeight__offsetX__offsetY&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___rendering2_d.html#ga3949a0436526c8910cdd92b4a8409032">getTextureDimensions</a> (string assetName)</td></tr>
<tr class="memdesc:ga3949a0436526c8910cdd92b4a8409032"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the texture dimensions for a texture.  <a href="#ga3949a0436526c8910cdd92b4a8409032"></a><br/></td></tr>
<tr class="memitem:ga30c1ca2c9fd5911dfc466f78d399e4a8"><td class="memItemLeft" align="right" valign="top">scale&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___rendering2_d.html#ga30c1ca2c9fd5911dfc466f78d399e4a8">getUIScale</a> ()</td></tr>
<tr class="memdesc:ga30c1ca2c9fd5911dfc466f78d399e4a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the singular scale value for scaling UI components.  <a href="#ga30c1ca2c9fd5911dfc466f78d399e4a8"></a><br/></td></tr>
<tr class="memitem:ga683a2764f3f1af5f06930b23fb851b9e"><td class="memItemLeft" align="right" valign="top">scaleX__scaleY&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___rendering2_d.html#ga683a2764f3f1af5f06930b23fb851b9e">getScale2d</a> ()</td></tr>
<tr class="memdesc:ga683a2764f3f1af5f06930b23fb851b9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the scale for both dimensions of the screen.  <a href="#ga683a2764f3f1af5f06930b23fb851b9e"></a><br/></td></tr>
<tr class="memitem:gafc8d56292561db3021a8b99a50c3035d"><td class="memItemLeft" align="right" valign="top">width__height&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___rendering2_d.html#gafc8d56292561db3021a8b99a50c3035d">getViewportSize</a> ()</td></tr>
<tr class="memdesc:gafc8d56292561db3021a8b99a50c3035d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of the current screen.  <a href="#gafc8d56292561db3021a8b99a50c3035d"></a><br/></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gaad591f8345b3995f8200f067f4c41cce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">renderItemId Game::end2DProjection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Does not pop like a stack but instead restores actual screen-pixel projection </p>

</div>
</div>
<a class="anchor" id="ga683a2764f3f1af5f06930b23fb851b9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scaleX__scaleY getScale2d </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns:</dt><dd>scaleX: The X-axis scale </dd>
<dd>
scaleY: The Y-axis scale </dd></dl>

</div>
</div>
<a class="anchor" id="ga3949a0436526c8910cdd92b4a8409032"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">origWidth__origHeight__trimmedWidth__trimmedHeight__offsetX__offsetY getTextureDimensions </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>assetName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">assetName</td><td>The texture asset's name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>origWidth: The original width </dd>
<dd>
origHeight: The original height </dd>
<dd>
trimmedWidth: The trimmed width </dd>
<dd>
trimmedHeight: The trimmed height </dd>
<dd>
offsetX: The X offset </dd>
<dd>
offsetY: The Y offset </dd></dl>

</div>
</div>
<a class="anchor" id="ga30c1ca2c9fd5911dfc466f78d399e4a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scale getUIScale </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This calculation uses the non-variable dimension of the current orientation to obtain a scale value that is appropriate for the current screen. Scaling both width and height by this value will result in correctly scaled, proportionate UI components. </p>
<dl class="section return"><dt>Returns:</dt><dd>scale: The scale </dd></dl>

</div>
</div>
<a class="anchor" id="gafc8d56292561db3021a8b99a50c3035d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">width__height getViewportSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns:</dt><dd>width: The screen's width </dd>
<dd>
height: The screen's height </dd></dl>

</div>
</div>
<a class="anchor" id="ga161f6e5d4d9c4d6376ea793473da00f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">renderItemId Game::render2D </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>assetName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>rotation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>alpha</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>2D images are rendered as "textured quads." Because <a class="el" href="namespace_battery_tech.html">BatteryTech</a> is fully ES compatible, this means 2 triangles per quad.</p>
<ul>
<li>Render Order: 2D images are rendered in the order of draw calls from back to front, so it is your responsibility as the developer to call in the order which will correctly render your scene.<br/>
</li>
<li>Texture Atlasing: Multiple images can be combined onto a single texture either manually or by using the 3rd party tool "Texture Packer." Texture Packer specifically supports <a class="el" href="namespace_battery_tech.html">BatteryTech</a> and exports a .btx file alongside a packed .png which holds all of the texture data. Packed textures keep the same filenames as the original and will be rendered as if they are the original size, meaning even though alpha pixels may be trimmed during packing, they will be accounted for during the render. For example, if you put Sprite1.png and Sprite2.png into an atlas and the output was MySprites.png/MySprites.btx, you would simply call addTexture("MySprites.btx") then game:render2D("Sprite1.png", ...) as if you directly loaded that file. Removing works the same way - removing the packed texture removes all virtualized textures.<br/>
</li>
<li>Optimizing: 2D sprites will be rendered in the most optimized way that still can render the scene correctly blindly back to front. The one major bottleneck is texture switching. Any time a texture switch is required, the current sprite buffer will be drawn. To optimize, specify a render order that groups draws by texture and pack multiple images into an atlas when they will be rendered all together on screen. <a class="el" href="namespace_battery_tech.html">BatteryTech</a> does not analyze the scene to see if quads overlap so it is up to the developer to provide a draw order that can best utilize low texture switching, resulting in larger batches of quads to be drawn.<br/>
</li>
<li>Coordinate System: Alternate coordinate systems can be specified by using <a class="el" href="group___rendering2_d.html#ga6b2d55ac78f84007e16f9867e802bf49" title="Starts an alternate 2D Projection (Orthographic)">Game::start2DProjection()</a> / <a class="el" href="group___rendering2_d.html#gaad591f8345b3995f8200f067f4c41cce" title="Ends any alternate 2D Projection, restores default.">Game::end2DProjection()</a> which makes it easier to manage scaling across different screen sizes. If no projection is specified, screen coordinates are used with 0,0 in the top left.<br/>
</li>
</ul>
<p>Example: </p>
<div class="fragment"><div class="line"> -- Render an image centered at 200,200 drawn to be 400x400 in size and rotated 90 degrees</div>
<div class="line"> local item = game:<a class="code" href="group___rendering2_d.html#ga161f6e5d4d9c4d6376ea793473da00f0" title="Renders a 2D image.">render2D</a>(<span class="stringliteral">&quot;Textures/MyImage.png&quot;</span>, 200, 200, 400, 400, math.rad(90))</div>
<div class="line"> -- Now specify that we want to draw <span class="keyword">this</span> at only 70% opacity - we could have also specified <span class="keyword">this</span> in the render call</div>
<div class="line"> game:<a class="code" href="group___rendering.html#gabe50bea95f91261a992fe4fb3e583937" title="Sets a render item parameter.">setRenderItemParam</a>(item, <span class="stringliteral">&quot;alpha&quot;</span>, .7)</div>
</div><!-- fragment --><dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">assetName</td><td>The asset filename to use as the texture </td></tr>
    <tr><td class="paramname">x</td><td>The center x coordinate </td></tr>
    <tr><td class="paramname">y</td><td>The center y coordinate </td></tr>
    <tr><td class="paramname">width</td><td>The render width </td></tr>
    <tr><td class="paramname">height</td><td>The render height </td></tr>
    <tr><td class="paramname">rotation</td><td>(optional) The rotation in radians </td></tr>
    <tr><td class="paramname">alpha</td><td>(optional) The alpha value in range 0-1 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga6b2d55ac78f84007e16f9867e802bf49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">renderItemId Game::start2DProjection </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>right</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>bottom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>top</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>near</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>far</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>From when this projection is specified until end2DProjection or a different projection is specified, all 2D render calls will use this projection.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">left</td><td>The left side coordinate </td></tr>
    <tr><td class="paramname">right</td><td>The right side coordinate </td></tr>
    <tr><td class="paramname">bottom</td><td>The bottom screen coordinate </td></tr>
    <tr><td class="paramname">top</td><td>The top screen coordinate </td></tr>
    <tr><td class="paramname">near</td><td>The near-plane </td></tr>
    <tr><td class="paramname">far</td><td>The far-plane </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 20 2012 18:06:50 for BatteryTech Lua Engine by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1
</small></address>
</body>
</html>
